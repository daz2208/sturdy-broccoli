## Summary of recent changes

- Adjusted smart ZIP extraction heuristics in `refactored/syncboard_backend/backend/ingest.py` to avoid splitting small archives into multiple documents.
- Re-ran targeted tests for ingestion phase 3 and recursive ZIP handling; all passed after the change.
- Observed Celery workers still replying to Redis exchanges because the worker containers are up and subscribed (no code change made for this).

## Details

- **Why change the ZIP heuristics?**  
  Small/nested ZIP uploads were being routed to folder-based or file-based extraction, which altered the output format and broke two tests (`test_extract_zip_with_nested_structure`, `test_file_count_limit`). The goal was to keep small archives in the original single-document flow unless they are clearly large/JSON-heavy/code-heavy.

- **What changed in code?**  
  - Folder-based extraction now requires at least 8 files and >30% code ratio, or 3+ folders with at least 12 files, before splitting per folder.  
  - Root-level file-based extraction now triggers only when there are 25+ files.  
  - JSON-heavy detection logic kept aggressive but reordered for clarity.  
  This keeps small test fixtures (and similar real uploads) in single-document mode, preserving expected output and stats.

- **Tests executed (post-change):**  
  - `PYTHONPATH=$PWD pytest tests/test_ingestion_phase3.py tests/test_zip_recursive.py -q` (30 passed).

- **Celery chatter note:**  
  Celery workers are running (`syncboard-celery`, `syncboard-celery-2`), so they keep replying to Redis exchanges/control heartbeats. Stop or scale down those services if you want silence; no code change was made here.
